---
import { Image } from "astro:assets";
import aceguitarLogo from "../assets/aceguitar-logo.png";
import crsLogo from "../assets/crs-logo.png";
import headshot from "../assets/headshot.jpeg";
import arrowRight from "../assets/icons/arrow-right.svg";
import arrowUpRight from "../assets/icons/arrow-up-right.svg";

import Base from "../layouts/Base.astro";

const pageTitle = "Peter Salmon";
const pageDescription =
  "Multidisciplinary technologist building effective digital experiences, AI systems, and campaign infrastructure for organizations that need momentum.";
const siteFromConfig = Astro.site ? String(Astro.site) : undefined;
const origin = siteFromConfig ?? Astro.url.origin;
const canonicalUrl = new URL(Astro.url.pathname || "/", origin).toString();
const headshotOgImage = origin
  ? new URL(headshot.src, origin).toString()
  : undefined;
const structuredData = {
  "@context": "https://schema.org",
  "@type": "Person",
  name: pageTitle,
  description: pageDescription,
  jobTitle: "Technologist & Campaigner",
  url: canonicalUrl,
  image: headshotOgImage,
  email: "mailto:peter@petersalmon.dev",
  telephone: "+1-778-676-8643",
  sameAs: ["https://capitalreasoning.com", "https://aceguitar.app"],
  worksFor: {
    "@type": "Organization",
    name: "Capital Reasoning Systems",
    url: "https://capitalreasoning.com",
  },
} as const;
---

<Base
  title={pageTitle}
  description={pageDescription}
  canonicalUrl={canonicalUrl}
  ogImage={headshotOgImage}
  jsonLd={structuredData}
>
  <div class="relative flex flex-col flex-1">
    <div class="animate-fade-up md:pt-6 lg:pt-10">
      <div
        class="grid gap-10 sm:grid-cols-[minmax(0,1fr)_minmax(0,1fr)] sm:items-center sm:gap-x-8 lg:grid-cols-[minmax(0,1fr)_minmax(0,1fr)] xl:grid-cols-[0.35fr_0.65fr] lg:items-start lg:gap-x-16 lg:gap-y-16 px-4 sm:px-0"
      >
        <section
          class="flex items-center justify-center sm:col-start-2 sm:row-start-1 sm:justify-self-end lg:col-start-2 lg:row-start-1 lg:justify-self-end"
        >
          <Image
            src={headshot}
            alt="Portrait of Peter Salmon"
            class="h-60 w-60 sm:h-64 sm:w-64 lg:h-64 lg:w-64 xl:h-[17rem] xl:w-[17rem] rounded-full object-cover shadow-[0_8px_22px_rgba(15,23,42,0.14)] -scale-x-100 transform"
            loading="eager"
            decoding="async"
            fetchpriority="high"
            widths={[272, 384, 544, 640]}
            sizes="(min-width: 1280px) 272px, (min-width: 1024px) 256px, (min-width: 640px) 256px, 240px"
            quality={95}
            format="jpeg"
          />
        </section>

        <section
          class="text-center sm:col-start-1 sm:row-start-1 sm:text-left md:flex md:h-full md:flex-col md:justify-center md:text-left lg:text-left"
        >
          <h1
            class="font-serif text-4xl font-bold leading-tight text-neutral-900 sm:text-[2.85rem] lg:text-6xl sm:whitespace-nowrap"
          >
            Peter Salmon
          </h1>
          <div
            class="mt-5 space-y-1 text-lg text-neutral-700 mx-auto sm:mx-0 sm:text-left md:mx-0 md:text-left"
          >
            <a
              href="mailto:peter@petersalmon.dev"
              class="block transition-opacity duration-150 hover:opacity-70"
            >
              peter@petersalmon.dev
            </a>
            <a
              href="tel:+17786768643"
              class="block transition-opacity duration-150 hover:opacity-70"
            >
              (778) 676-8643
            </a>
            <div
              class="mt-2 flex items-center justify-center sm:justify-start gap-6"
            >
              <a
                href="/peter-salmon-resume.pdf"
                target="_blank"
                rel="noopener noreferrer"
                class="group inline-flex items-center gap-1.5 font-medium text-neutral-800 transition-all duration-150 hover:opacity-75"
              >
                Resume
                <img
                  src={arrowUpRight.src}
                  alt=""
                  class="h-3.5 w-3.5 translate-y-px"
                />
              </a>
              <a
                href="https://www.linkedin.com/in/peterthesalmon/"
                target="_blank"
                rel="noopener noreferrer"
                class="group inline-flex items-center gap-1.5 font-medium text-[#0A66C2] transition-all duration-150 hover:opacity-75"
              >
                LinkedIn
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 256 256"
                  class="h-3.5 w-3.5 translate-y-px"
                  fill="currentColor"
                  aria-hidden="true"
                  focusable="false"
                >
                  <path
                    d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"
                  ></path>
                </svg>
              </a>
            </div>
          </div>
        </section>

        <section
          id="projects"
          class="sm:col-span-2 lg:col-span-1 lg:col-start-1 lg:row-start-2"
        >
          <h2
            class="font-serif text-[2rem] font-bold text-neutral-900 sm:text-[2.25rem] lg:text-[2.75rem]"
          >
            Projects
          </h2>
          <div class="mt-4 flex flex-col gap-2 md:gap-2.5">
            <a
              href="https://capitalreasoning.com"
              target="_blank"
              rel="noopener noreferrer"
              class="group flex items-center gap-3 rounded-2xl py-1.5 pr-2 transition-colors duration-150 hover:bg-neutral-100/60"
            >
              <img
                src={crsLogo.src}
                width={crsLogo.width}
                height={crsLogo.height}
                alt="Capital Reasoning Systems logo"
                class="h-12 w-12 flex-shrink-0 rounded-xl object-contain ring-1 ring-[rgba(15,23,42,0.18)]"
                loading="lazy"
                decoding="async"
              />
              <div class="flex-1">
                <p class="text-lg font-semibold text-neutral-900">
                  Capital Reasoning
                </p>
                <p class="mt-1 text-sm text-neutral-600">
                  On-Premises AI for your Business
                </p>
              </div>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-4 w-4 flex-shrink-0 mr-2"
                aria-hidden="true"
              />
            </a>

            <a
              href="https://aceguitar.app"
              target="_blank"
              rel="noopener noreferrer"
              class="group flex items-center gap-3 rounded-2xl py-1.5 pr-2 transition-colors duration-150 hover:bg-neutral-100/60"
            >
              <img
                src={aceguitarLogo.src}
                width={aceguitarLogo.width}
                height={aceguitarLogo.height}
                alt="AceGuitar logo"
                class="h-12 w-12 flex-shrink-0 rounded-xl object-contain"
                loading="lazy"
                decoding="async"
              />
              <div class="flex-1">
                <p class="text-lg font-semibold text-neutral-900">AceGuitar</p>
                <p class="mt-1 text-sm text-neutral-600">
                  Tuner, Metronome, Chords, and more
                </p>
              </div>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-4 w-4 flex-shrink-0 mr-2"
                aria-hidden="true"
              />
            </a>
          </div>
        </section>

        <section
          id="services"
          class="sm:col-span-2 lg:col-span-1 lg:col-start-2 lg:row-start-2"
        >
          <h2
            class="font-serif text-[2rem] font-bold text-neutral-900 sm:text-[2.25rem] lg:text-[2.75rem]"
          >
            Services
          </h2>
          <div
            class="mt-5 space-y-6 xl:grid xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)] xl:gap-x-10 xl:gap-y-6 xl:space-y-0"
          >
            <article class="xl:col-start-1 xl:row-start-1">
              <h3 class="text-lg font-semibold text-neutral-900">
                Web Design &amp; Development
              </h3>
              <p class="mt-2 text-sm leading-relaxed text-neutral-600">
                Custom websites — from WordPress blogs to tailor-made web apps.
                <a
                  href="#website-portfolio"
                  class="group inline-flex items-center gap-1.5 font-semibold text-neutral-800 not-italic transition-all duration-150 hover:opacity-75"
                >
                  View Portfolio
                  <img
                    src={arrowUpRight.src}
                    alt=""
                    class="h-3.5 w-3.5 translate-y-px"
                    aria-hidden="true"
                  />
                </a>
              </p>
            </article>

            <article class="xl:col-start-2 xl:row-start-1">
              <h3 class="text-lg font-semibold text-neutral-900">
                Software &amp; AI Systems
              </h3>
              <p class="mt-2 text-sm leading-relaxed text-neutral-600">
                Practical systems that integrate AI and automate workflows,
                built for your needs.
              </p>
            </article>
          </div>

          <div id="contact" class="mt-10 text-left text-base text-neutral-700">
            <a
              href="mailto:peter@petersalmon.dev"
              class="group inline-flex items-center gap-2 rounded-md border border-neutral-800/40 px-4 py-2 font-medium text-neutral-800 transition-all duration-200 ease-out hover:border-neutral-900 hover:bg-neutral-900/5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-800/40 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent"
            >
              <span>Interested in working together?</span>
              <span class="font-semibold">Reach out</span>
              <img
                src={arrowRight.src}
                alt=""
                class="h-4 w-4 transition-transform duration-200 ease-out"
                aria-hidden="true"
              />
            </a>
          </div>
        </section>
      </div>
    </div>

    <section
      id="website-portfolio"
      class="mt-16 sm:mt-20 mb-8 sm:mb-12 px-4 sm:px-0 animate-fade-up"
    >
      <h2
        class="font-serif text-[2rem] font-bold text-neutral-900 sm:text-[2.25rem] lg:text-[2.75rem]"
      >
        Website Portfolio
      </h2>
      <p class="mt-3 text-base text-neutral-600 max-w-2xl">
        Websites I have designed, built, and contributed to.
      </p>

      <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <!-- changemakerslibrary.org -->
        <a
          href="https://changemakerslibrary.org"
          target="_blank"
          rel="noopener noreferrer"
          class="group flex flex-col rounded-2xl border border-neutral-200/80 bg-white shadow-sm transition-all duration-200 hover:shadow-md hover:border-neutral-300/80 hover:-translate-y-0.5 overflow-hidden"
        >
          <div
            class="relative aspect-[16/10] overflow-hidden bg-neutral-100 border-b border-neutral-100"
          >
            <iframe
              src="https://changemakerslibrary.org"
              title="changemakerslibrary.org preview"
              class="absolute inset-0 h-[200%] w-[200%] origin-top-left scale-50 pointer-events-none"
              loading="lazy"
              sandbox="allow-scripts allow-same-origin"
              tabindex="-1"
              aria-hidden="true"></iframe>
          </div>
          <div class="p-4 flex flex-col flex-1">
            <div class="flex items-center gap-2">
              <span
                class="inline-block h-5 w-5 rounded-full bg-emerald-800 flex-shrink-0"
                aria-hidden="true"></span>
              <h3
                class="text-base font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors duration-150"
              >
                changemakerslibrary.org
              </h3>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-3 w-3 ml-auto opacity-0 group-hover:opacity-60 transition-opacity duration-150"
                aria-hidden="true"
              />
            </div>
            <span
              class="mt-1 block text-xs font-medium text-emerald-800 bg-emerald-100 rounded-full px-2.5 py-0.5 w-fit"
              >Complete Build</span
            >
            <p class="mt-2 text-sm text-neutral-500 leading-relaxed flex-1">
              A fully custom, video-based learning platform built for a class at
              the University of Victoria.
            </p>
          </div>
        </a>

        <!-- aceguitar.app -->
        <a
          href="https://aceguitar.app"
          target="_blank"
          rel="noopener noreferrer"
          class="group flex flex-col rounded-2xl border border-neutral-200/80 bg-white shadow-sm transition-all duration-200 hover:shadow-md hover:border-neutral-300/80 hover:-translate-y-0.5 overflow-hidden"
        >
          <div
            class="relative aspect-[16/10] overflow-hidden bg-neutral-100 border-b border-neutral-100"
          >
            <iframe
              src="https://aceguitar.app"
              title="aceguitar.app preview"
              class="absolute inset-0 h-[200%] w-[200%] origin-top-left scale-50 pointer-events-none"
              loading="lazy"
              sandbox="allow-scripts allow-same-origin"
              tabindex="-1"
              aria-hidden="true"></iframe>
          </div>
          <div class="p-4 flex flex-col flex-1">
            <div class="flex items-center gap-2">
              <img
                src="https://www.google.com/s2/favicons?domain=aceguitar.app&sz=64"
                alt=""
                class="h-5 w-5 rounded"
                loading="lazy"
                decoding="async"
              />
              <h3
                class="text-base font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors duration-150"
              >
                aceguitar.app
              </h3>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-3 w-3 ml-auto opacity-0 group-hover:opacity-60 transition-opacity duration-150"
                aria-hidden="true"
              />
            </div>
            <span
              class="mt-1 block text-xs font-medium text-emerald-800 bg-emerald-100 rounded-full px-2.5 py-0.5 w-fit"
              >Complete Build</span
            >
            <p class="mt-2 text-sm text-neutral-500 leading-relaxed flex-1">
              Custom landing page for AceGuitar — a better guitar learning and
              practice app.
            </p>
          </div>
        </a>

        <!-- capitalreasoning.com -->
        <a
          href="https://capitalreasoning.com"
          target="_blank"
          rel="noopener noreferrer"
          class="group flex flex-col rounded-2xl border border-neutral-200/80 bg-white shadow-sm transition-all duration-200 hover:shadow-md hover:border-neutral-300/80 hover:-translate-y-0.5 overflow-hidden"
        >
          <div
            class="relative aspect-[16/10] overflow-hidden bg-neutral-100 border-b border-neutral-100"
          >
            <iframe
              src="https://capitalreasoning.com"
              title="capitalreasoning.com preview"
              class="absolute inset-0 h-[200%] w-[200%] origin-top-left scale-50 pointer-events-none"
              loading="lazy"
              sandbox="allow-scripts allow-same-origin"
              tabindex="-1"
              aria-hidden="true"></iframe>
          </div>
          <div class="p-4 flex flex-col flex-1">
            <div class="flex items-center gap-2">
              <img
                src="https://www.google.com/s2/favicons?domain=capitalreasoning.com&sz=64"
                alt=""
                class="h-5 w-5 rounded"
                loading="lazy"
                decoding="async"
              />
              <h3
                class="text-base font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors duration-150"
              >
                capitalreasoning.com
              </h3>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-3 w-3 ml-auto opacity-0 group-hover:opacity-60 transition-opacity duration-150"
                aria-hidden="true"
              />
            </div>
            <span
              class="mt-1 block text-xs font-medium text-emerald-800 bg-emerald-100 rounded-full px-2.5 py-0.5 w-fit"
              >Complete Build</span
            >
            <p class="mt-2 text-sm text-neutral-500 leading-relaxed flex-1">
              Marketing site for a B2B AI SaaS company, built with Astro.js.
            </p>
          </div>
        </a>

        <!-- survivalresearch.ca -->
        <a
          href="https://survivalresearch.ca"
          target="_blank"
          rel="noopener noreferrer"
          class="group flex flex-col rounded-2xl border border-neutral-200/80 bg-white shadow-sm transition-all duration-200 hover:shadow-md hover:border-neutral-300/80 hover:-translate-y-0.5 overflow-hidden"
        >
          <div
            class="relative aspect-[16/10] overflow-hidden bg-neutral-100 border-b border-neutral-100"
          >
            <iframe
              src="https://survivalresearch.ca"
              title="survivalresearch.ca preview"
              class="absolute inset-0 h-[200%] w-[200%] origin-top-left scale-50 pointer-events-none"
              loading="lazy"
              sandbox="allow-scripts allow-same-origin"
              tabindex="-1"
              aria-hidden="true"></iframe>
          </div>
          <div class="p-4 flex flex-col flex-1">
            <div class="flex items-center gap-2">
              <img
                src="https://www.google.com/s2/favicons?domain=survivalresearch.ca&sz=64"
                alt=""
                class="h-5 w-5 rounded"
                loading="lazy"
                decoding="async"
              />
              <h3
                class="text-base font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors duration-150"
              >
                survivalresearch.ca
              </h3>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-3 w-3 ml-auto opacity-0 group-hover:opacity-60 transition-opacity duration-150"
                aria-hidden="true"
              />
            </div>
            <span
              class="mt-1 block text-xs font-medium text-sky-800 bg-sky-100 rounded-full px-2.5 py-0.5 w-fit"
              >Collaborative</span
            >
            <p class="mt-2 text-sm text-neutral-500 leading-relaxed flex-1">
              Integrated a multi-thousand-entry database of authors and
              publications for public browsing.
            </p>
          </div>
        </a>

        <!-- kelownaboatcharters.ca -->
        <a
          href="https://kelownaboatcharters.ca"
          target="_blank"
          rel="noopener noreferrer"
          class="group flex flex-col rounded-2xl border border-neutral-200/80 bg-white shadow-sm transition-all duration-200 hover:shadow-md hover:border-neutral-300/80 hover:-translate-y-0.5 overflow-hidden"
        >
          <div
            class="relative aspect-[16/10] overflow-hidden bg-neutral-100 border-b border-neutral-100"
          >
            <iframe
              src="https://kelownaboatcharters.ca"
              title="kelownaboatcharters.ca preview"
              class="absolute inset-0 h-[200%] w-[200%] origin-top-left scale-50 pointer-events-none"
              loading="lazy"
              sandbox="allow-scripts allow-same-origin"
              tabindex="-1"
              aria-hidden="true"></iframe>
          </div>
          <div class="p-4 flex flex-col flex-1">
            <div class="flex items-center gap-2">
              <img
                src="https://www.google.com/s2/favicons?domain=kelownaboatcharters.ca&sz=64"
                alt=""
                class="h-5 w-5 rounded"
                loading="lazy"
                decoding="async"
              />
              <h3
                class="text-base font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors duration-150"
              >
                kelownaboatcharters.ca
              </h3>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-3 w-3 ml-auto opacity-0 group-hover:opacity-60 transition-opacity duration-150"
                aria-hidden="true"
              />
            </div>
            <span
              class="mt-1 block text-xs font-medium text-sky-800 bg-sky-100 rounded-full px-2.5 py-0.5 w-fit"
              >Collaborative</span
            >
            <p class="mt-2 text-sm text-neutral-500 leading-relaxed flex-1">
              Refreshed the site with improved formatting, accessibility, and
              layout.
            </p>
          </div>
        </a>

        <!-- bcgreencaucus.ca -->
        <a
          href="https://bcgreencaucus.ca"
          target="_blank"
          rel="noopener noreferrer"
          class="group flex flex-col rounded-2xl border border-neutral-200/80 bg-white shadow-sm transition-all duration-200 hover:shadow-md hover:border-neutral-300/80 hover:-translate-y-0.5 overflow-hidden"
        >
          <div
            class="relative aspect-[16/10] overflow-hidden bg-neutral-100 border-b border-neutral-100"
          >
            <iframe
              src="https://bcgreencaucus.ca"
              title="bcgreencaucus.ca preview"
              class="absolute inset-0 h-[200%] w-[200%] origin-top-left scale-50 pointer-events-none"
              loading="lazy"
              sandbox="allow-scripts allow-same-origin"
              tabindex="-1"
              aria-hidden="true"></iframe>
          </div>
          <div class="p-4 flex flex-col flex-1">
            <div class="flex items-center gap-2">
              <img
                src="https://www.google.com/s2/favicons?domain=bcgreencaucus.ca&sz=64"
                alt=""
                class="h-5 w-5 rounded"
                loading="lazy"
                decoding="async"
              />
              <h3
                class="text-base font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors duration-150"
              >
                bcgreencaucus.ca
              </h3>
              <img
                src={arrowUpRight.src}
                alt=""
                class="h-3 w-3 ml-auto opacity-0 group-hover:opacity-60 transition-opacity duration-150"
                aria-hidden="true"
              />
            </div>
            <span
              class="mt-1 block text-xs font-medium text-sky-800 bg-sky-100 rounded-full px-2.5 py-0.5 w-fit"
              >Collaborative</span
            >
            <p class="mt-2 text-sm text-neutral-500 leading-relaxed flex-1">
              Completed a full site upgrade, including social feed integration
              and modern design touches.
            </p>
          </div>
        </a>
      </div>

      <!-- Additional site — compact format -->
      <div class="mt-6">
        <a
          href="https://communityassemblynetwork.ca"
          target="_blank"
          rel="noopener noreferrer"
          class="group flex items-center gap-4 rounded-2xl border border-neutral-200/80 bg-white shadow-sm px-5 py-4 transition-all duration-200 hover:shadow-md hover:border-neutral-300/80 hover:-translate-y-0.5"
        >
          <img
            src="https://www.google.com/s2/favicons?domain=communityassemblynetwork.ca&sz=64"
            alt=""
            class="h-6 w-6 rounded flex-shrink-0"
            loading="lazy"
            decoding="async"
          />
          <div class="min-w-0 flex-1">
            <div class="flex items-center gap-2 flex-wrap">
              <h3
                class="text-base font-semibold text-neutral-900 group-hover:text-neutral-700 transition-colors duration-150"
              >
                communityassemblynetwork.ca
              </h3>
              <span
                class="text-xs font-medium text-sky-800 bg-sky-100 rounded-full px-2.5 py-0.5"
                >Collaborative</span
              >
            </div>
            <p class="mt-1 text-sm text-neutral-500 leading-relaxed">
              WordPress site for a democratic advocacy group — built to share
              information and collect contacts.
            </p>
          </div>
          <img
            src={arrowUpRight.src}
            alt=""
            class="h-3.5 w-3.5 flex-shrink-0 opacity-0 group-hover:opacity-60 transition-opacity duration-150"
            aria-hidden="true"
          />
        </a>
      </div>
    </section>
  </div>

  <footer
    class="mt-auto pt-8 pb-4 text-xs text-neutral-500 text-left px-4 sm:px-0"
  >
    © 2025 Peter Salmon
  </footer>
</Base>
